---
title: "Career Village - Matching Users with Professionals"
subtitle: Data Survey and Preprocessing
output:
  github_document: default
  html_notebook: default
---
## Notebook Summary 
This notebook is our initial look at the data to identify what we have to work with, what issues exist with the data in its current form, and how the data can best be aggregated for this project. After reading in the data, we follow the outline below: <br>
- Observe table structures, data types, and summary statistics, and identify key columns <br>
- Identify and address initial errors, missing values, variable transformations, and feature engineering <br>
- Aggregate required feature sets <br>

_____________________________________________

## 1. Read in the Data
```{r}
# Locate and list files in the directory
file_list <- list.files(getwd(), full.names=T, pattern='*.csv')
filenames <- tools::file_path_sans_ext(basename(file_list))

# Read in all csv files into data frames
for (i in 1:length(file_list)) {
  df <- read.csv(file_list[i], header=T, na.strings=c('NA',''), encoding="UTF-8") # Using UTF-8 to include extended and non-Latin characters
  assign(filenames[i], df)
}
```

## 2a. Variable summaries
```{r}
for (i in 1:length(filenames)) {
  cat(filenames[i], "\n", "\n")
  print(summary(get(as.name(filenames[i]))))
  cat('_______________________________________________________________________________________', "\n")
}
```

## 2b. Count of NA values
```{r}
for (i in 1:length(filenames)) {
  cat(filenames[i], "\n", "\n")
  print(sapply(get(as.name(filenames[i])), function(x) sum(is.na(x))))
  cat('_______________________________________________________________________________________', "\n")
}
```
### Initial decisions on missing values.
With no reasonable way to impute professionals' or students' missing information, we will include the value "Not specified" in order to keep those records and potentially discover trends that relate meaningfully to users who chose not to enter those fields. Since the location field is a combination of city and state or country which we will not use in its current form, we will impute the "Not Specified" value into newly engineered columns for US division.

We will simply drop the one tag with no name, and 1 answer with no body. Further actions on missing values will be addressed as they arise later when certain tables are merged.

## 2c. Variable structures
```{r}
for (i in 1:length(filenames)) {
  cat(filenames[i], "\n", "\n")
  print(str(get(as.name(filenames[i]))))
  cat('_______________________________________________________________________________________', "\n")
}
```

### 2d. Heads of each table
```{r}
for (i in 1:length(filenames)) {
  cat(filenames[i], "\n", "\n")
  print(head(get(as.name(filenames[i]))))
  cat('_______________________________________________________________________________________', "\n")
}
```

## 3. Missing Values, Transformations, and Feature Engineering

### answers
```{r}

```

### comments
```{r}

```

### emails
```{r}

```

### group_memberships
```{r}

```

### groups
```{r}

```

### matches
```{r}

```

### professionals
The script sourced below completes the following actions: <br>
* Creates variable professionals_loc_div by binning professionals location into U.S. Geographic Division <br>
* Creates variable professionals_country by binning professionals location into country <br>
* Transforms professionals_date_joined into datetime, and removes hh:mm:ss <br>
* Imputes "Not Specified" for NA fields <br>
```{r}
source("~/GitHub/Career-Village/Feature Engineering Scripts/pros_loc_div.R")
source("~/GitHub/Career-Village/Feature Engineering Scripts/answers_by_industry.R")
```

### questions
```{r}

```

### school_memberships
```{r}

```

### students
The script sourced below completes the following actions: <br>
* Creates variable students_loc_div by binning student location into U.S. Geographic Division <br>
* Creates variable students_country by binning student location into country <br>
* Transforms students_date_joined into datetime, and removes hh:mm:ss <br>
* Imputes "Not Specified" for NA fields <br>
```{r}
source("~/GitHub/Career-Village/Feature Engineering Scripts/stud_loc_div.R")
```

### tag_questions
```{r}

```

### tag_users
```{r}

```

### tags
```{r}

```

### question_scores
```{r}

```

### answer_scores
```{r}

```
